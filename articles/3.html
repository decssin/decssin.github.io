<!DOCTYPE html>
<html lang="ko">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>DESSIN.DEV</title>

	<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
	<link rel="icon" type="image/png" sizes="192x192" href="../favicon-192x192.png">
	<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
	<link rel="icon" type="image/png" href="../favicon.ico">

	<link rel="stylesheet" href="../index.css" />

	<noscript><div id="noscript">Your browser does not support JavaScript!</div></noscript>
</head>
<body>
	<div id="wrap">
		<div id="header" onclick="scrollTop()">
			<div class="header-wrap">
				<div class="menu" onclick="openMenu()">
					<div class="line"></div>
					<div class="line"></div>
					<div class="line"></div>
				</div>
				<div class="title" onclick="goHomepage()">DESSIN</div>
				<div class="empty-space"></div>
			</div>
		</div>

		<div id="content">
            <div class="title">최소한의 GIT 익히기</div>
            <div class="datetime">2020년 11월 02일</div>

            <div class="explain">
                <p>
                    깃(Git)은 컴퓨터 파일의 변경사항을 추적하고 여러 명의 사용자들 간에 해당 파일들의 작업을 조율하기 위한 분산 버전 관리 시스템입니다. 
                    소프트웨어 개발에서 소스 코드 관리에 주로 사용되지만 어떠한 집합의 파일의 변경사항을 지속적으로 추적하기 위해 사용될 수 있습니다. 
                    기하학적 불변 이론을 바탕으로 설계됐고, 분산 버전 관리 시스템으로서 빠른 수행 속도에 중점을 두고 있는 것이 특징이며 데이터 무결성, 분산, 비선형 워크플로를 지원합니다.
                </p>
            
                <p>
                    다른 대부분의 분산 버전 관리 시스템처럼, 또 대부분의 클라이언트-서버 시스템과 달리, 
                    모든 노드의 모든 깃 디렉터리는 네트워크 접속이나 중앙 서버와는 독립적으로 동작하는 완전한 이력 및 완전한 버전 추적 기능을 갖춘 성숙한 저장소입니다. 
                    깃은 GNU 일반 공중 사용 허가서 v2 하에 배포되는 자유 소프트웨어입니다.
                </p>
                
                <h1>설치</h1>
                
                <ul>
                    <li><a href="https://git-scm.com/downloads" title="Git 설치" target="_blank">Git 설치</a></li>
                </ul> 
                
                <h1>사용자 설정</h1>
                
                <ul>
                    <li><code>git config --global user.name "YOUR_NAME"</code></li>
                    <li><code>git config --global user.email YOUREMAIL@EXAMPLE.COM</code></li>
                </ul>
                
                <h1>원격 저장소 복사하기</h1>
                
                <ul>
                    <li><code>git clone [원격저장소 주소] [설치할 디렉터리명]</code></li>
                </ul>
                
                <h1>브랜치 정보 조회</h1>
                
                <ul>
                    <li><code>git branch -a</code></li>
                </ul>
                
                <h1>브랜치 생성하기</h1>
                
                <ul>
                    <li><code>git branch test</code></li>
                </ul>
                
                <h1>브랜치 이동하기</h1>
                
                <ul>
                    <li><code>git checkout test</code></li>
                </ul>
                
                <h1>커밋할 파일 추가하기</h1>

                <ul>
                    <li><code>git add .</code></li>
                </ul>
                
                <h1>커밋하기</h1>
                
                <ul>
                    <li><code>git commit -m "commit message"</code></li>
                    <li><code>또는 git commit 후 메시지 작성</code></li>
                </ul>
                
                <h1>임시 저장하기</h1>
                
                <ul>
                    <li><code>git stash</code></li>
                </ul>
                
                <h1>임시 저장한 내용 불러오기</h1>
                
                <ul>
                    <li><code>git stash pop</code></li>
                </ul>
                
                <h1>병합하기</h1>
                
                <ul>
                    <li><code>git merge</code></li>
                </ul>
                
                <h1>원격 저장소에 보내기</h1>
                
                <ul>
                    <li><code>git push origin master</code></li>
                </ul>
                
                <h1>원격 저장소에서 가져오기</h1>
                
                <ul>
                    <li><code>git pull origin master</code></li>
                </ul>
                
                <h1>직전 커밋 상태로 돌아가기</h1>
                
                <ul>
                    <li><code>git checkout git-test.php</code></li>
                </ul>
                
                <h1>직전 커밋 다시하기 (예시)</h1>
                
                <ul>
                    <li>git add git-test.php </li>
                    <li>git commit -m "1차 커밋"</li>
                    <li>/* 수정할 내용을 적용해서 저장 */</li>
                    <li>git add git-test.php</li>
                    <li>git commit --amend</li>
                </ul>
                
                <h1>직전 커밋보다 더 과거 커밋으로 돌아가기</h1>

                <ul>
                    <li><code>git log</code></li>
                    <li>
                        <code>git revert <COMMIT ID></code>
                        <ul>
                            <li>되돌릴 시점의 코드를 가져와서 새로 커밋</li>
                            <li>충돌 발생 시, 해결 후 커밋</li>
                        </ul>
                    </li>
                </ul>
                
                <h1>SSH 공개키 만들기</h1>

                <p>
                    많은 Git 서버들은 SSH 공개키로 인증합니다. 공개키를 사용하려면 일단 공개키를 만들어야 합니다. 
                    공개키를 만드는 방법은 모든 운영체제가 비슷합니다. 먼저 키가 있는지부터 확인합니다. 
                    사용자의 SSH 키들은 기본적으로 사용자의 ~/.ssh 디렉토리에 저장합니다. 
                    디렉토리의 파일을 살펴보면 이미 공개키가 있는지 확인할 수 있습니다.
                </p>

                <pre>
                    $ cd ~/.ssh
                    $ ls
                    authorized_keys2 id_dsa known_hosts config id_dsa.pub
                </pre>

                <p>
                    <code>id_dsa</code>나 <code>id_rsa</code>라는 파일 이름이 보일 것이고 이에 같은 파일명의 <code>.pub</code> 라는 확장자가 붙은 파일이 하나 더 있을 것입니다. 
                    그중 <code>.pub</code> 파일이 공개키이고 다른 파일은 개인키입니다. 만약 이 파일들이 없거나 <code>.ssh</code> 디렉토리도 없으면 <code>ssh-keygen</code> 이라는 프로그램으로 키를 생성해야 합니다. 
                    <code>ssh-keygen</code> 프로그램은 Linux나 Mac의 SSH 패키지에 포함돼 있고 Windows는 Git for Windows 안에 들어 있습니다.
                </p>
                
                <pre>
                $ ssh-keygen
                Generating public/private rsa key pair.
                Enter file in which to save the key (/home/path/.ssh/id_rsa):
                Created directory '/home/path/.ssh'.
                Enter passphrase (empty for no passphrase):
                Enter same passphrase again:
                Your identification has been saved in /home/path/.ssh/id_rsa.
                Your public key has been saved in /home/path/.ssh/id_rsa.pub.
                The key fingerprint is:
                d0:82:24:8e:d7:f1:bb:9b:33:53:96:93:49:da:9b:e3 path@laptop.local
                </pre>
                
                <h1>참조</h1>
                
                <ul>
                    <li><a href="https://git-scm.com/book/ko/v2/Git-서버-SSH-공개키-만들기" title="Git 서버 SSH 공개키 만들기" target="_blank">Git 서버 SSH 공개키 만들기</a></li>
                </ul>

                <p>
                    <code>.ssh/id_rsa</code> 키를 저장하고 싶은 디렉토리를 입력하고 암호를 두 번 입력합니다. 이때 암호를 비워두면 키를 사용할 때 암호를 묻지 않습니다.
                    다음은 사용자가 자신의 공개키를 Git 서버 관리자에게 보내야 합니다. 사용자는 <code>.pub</code> 파일의 내용을 복사하여 이메일을 보내기만 하면 됩니다. 
                    공개키는 아래와 같이 생겼습니다.
                </p>
                
                <pre>
                $ cat ~/.ssh/id_rsa.pub
                ssh-rsa AAAAB3NzaC1yc2EAAAABIwAAAQEAklOUpkDHrfHY17SbrmTIpNLTGK9Tjom/BWDSU
                GPl+nafzlHDTYW7hdI4yZ5ew18JH4JW9jbhUFrviQzM7xlELEVf4h9lFX5QVkbPppSwg0cda3
                Pbv7kOdJ/MTyBlWXFCR+HAo3FXRitBqxiX1nKhXpHAZsMciLq8V6RjsNAQwdsdMFvSlVK/7XA
                t3FaoJoAsncM1Q9x5+3V0Ww68/eIFmb1zuUFljQJKprrX88XypNDvjYNby6vw/Pb0rwert/En
                mZ+AW4OZPnTPI89ZPmVMLuayrD2cE86Z/il8b+gw3r3+1nKatmIkjn2so1d01QraTlMqVSsbx
                NrRFi9wrf+M7Q== path@laptop.local
                </pre>
                
                <h1>초기 설정 (서버, 로컬 동일)</h1>
                
                <ul>
                    <li><code>git config --global user.name 'Name'</code></li>
                    <li><code>git config --global user.name email@example.com</code></li>
                    <li><code>git config --list</code> (설정 확인)</li>
                    <li>Bare 저장소 없이 push 하려면 추가: <code>git config receive.denyCurrentBranch ignore</code></li>
                </ul>
                
                <h1>서버에서 실행</h1>
                
                <ul>
                    <li>프로젝트 폴더에서 git 사용하기 위한 설정 : <code>git init</code></li>
                    <li>초기에는 git 저장을 위해 실행 : <code>git add *</code> -> <code>git commit -m "init commit"</code> -> <code>git push</code></li>
                    <li>Bare 저장소 만들기 : <code>git clone --bare my_project my_project.git</code></li>
                    <li>Bare 저장소 접근 권한 설정을 위해, 다른 경로로 복사 : scp -r my_project.git root@ip:/srv/git/my_project.git</li>
                    <li>자동으로 그룹 쓰기 권한 추가를 위해 Bare 저장소에서 실행 : git init --bare --shared</li>
                </ul>
                
                <h1>로컬에서 실행</h1>
                
                <ul>
                    <li>프로젝트 폴더 클론 : <code>git clone root@ip:/path/my_project.git</code></li>
                    <li>프로젝트를 수정하고 저장 : <code>git add *</code> -> <code>git commit -m "commit"</code> -> <code>git push</code></li>
                    <li>수정 된 프로젝트 당겨오기 : <code>git pull</code></li>
                </ul>

                <p>
                    'push', 'fetch', 'merge', 'pull' 명령어는 서버 정보 없이 바로 처리
                </p>
                
                <hr/>
                
                <h1>작업 순서 1 (로컬수정 > Bare 저장소 확인 > 서버적용)</h1>
                
                <ul>
                    <li>로컬에서 클론 후 프로젝트 수정하고 저장 : <code>git clone</code> (Bare 저장소) -> ... -> <code>git push</code></li>
                    <li>Bare 저장소에서 변경 사항 확인 및 비교 :  <code>git log</code>, <code>git show</code></li>
                    <li>서버 프로젝트에 변경 사항 적용 : <code>git fetch /path/my_project.git</code> -> <code>git pull /path/my_project.git</code></li>
                </ul>
                
                <h1>작업 순서 2 (서버수정 > Bare 저장소 확인 -> 로컬적용)</h1>
                
                <ul>
                    <li>서버에서 수정한 프로젝트를 Bare 저장소에 저장 : <code>git push /path/my_project.git</code></li>
                    <li>Bare 저장소에서 변경 사항 확인 및 비교 :  <code>git log</code>, <code>git show</code></li>
                    <li>로컬 프로젝트에 변경 사항 적용 : <code>git pull</code></li>
                </ul>
                
                <hr/>
                
                <h1>그 외 git 명령어</h1>
                
                <ul>
                    <li><code>git show</code></li>
                    <li><code>git status</code></li>
                    <li><code>git shortlog</code></li>
                    <li><code>git log</code></li>
                    <li><code>git stage</code></li>
                    <li><code>git fetch</code></li>
                    <li><code>git merge</code></li>
                </ul>
                
                
                <h1>그 외 tip</h1>
                
                <ul>
                    <li>'git pull' 명령어는 'git fetch', 'git merge' 동시에 실행하는 역할, 안전하지 않습니다.</li>
                    <li>'clone' 할 때의 서버 계정이 Bare 저장소에 대한 쓰기 권한이 있어야 'push' 가능합니다.</li>
                    <li>같은 파일을 변경하여 'fetch' 할 경우, 에러 발생 => 'merge' 할 때, 모든 작업 내용이 포함 적용됩니다.</li>
                </ul>
                
                <pre>
                <<<<<<< HEAD
                'merge' 명령어를 실행한 곳의 작업 내용이 표시됩니다.
                
                =======
                변경 된 작업 내용이 표시됩니다.
                >>>>>>> refs/remotes/origin/master
                </pre>
            </div>

			<div id="footer">
				<div class="rights">&copy; 2020 Jiwon Min. All rights reserved.</div>
				<div class="design">Designed by Jiwon Min.</div>
			</div>
		</div>
	</div>

    <script src="../index.js" type="text/javascript"></script>
</body>
</html>